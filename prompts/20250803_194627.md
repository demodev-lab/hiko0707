koreats

ë‚˜ëŠ” ì•„ë˜  ë‚´ìš©ê³¼ '/Users/koreats/Desktop/work.mac/hiko0707/docs/supabase-migration-master-plan.md'ì„ í•©ì³ì„œ '/Users/koreats/Desktop/work.mac/hiko0707/docs/supabase-migration-master-plan.md'ë¥¼ ì—…ë°ì´íŠ¸ í•  ì˜ˆì •ì¸ë° ì •í™•í•œ í˜„ì¬ í”„ë¡œì íŠ¸ ìƒíƒœë¥¼ í™•ì¸í•´ì„œ ì‚¬ì‹¤ ê·¼ê±°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ '/Users/koreats/Desktop/work.mac/hiko0707/docs/supabase-migration-master-plan.md'ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê³  ì‹¶ì–´. ì„œë¡œ ë‚´ìš©ì„ ë¹„êµí•˜ê³  í˜„ì¬ í”„ë¡œì íŠ¸ í˜„í™©ì„ ê¼¼ê¼¼í•˜ê²Œ ê²€í† í•´ì„œ ì–´ë–»ê²Œ '/Users/koreats/Desktop/work.mac/hiko0707/docs/supabase-migration-master-plan.md'ë¥¼ ì—…ë°ì´íŠ¸ í• ì§€ ê³„íšì„ ì„¸ì›Œì¤˜. --- ğŸ” Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€í†  ë³´ê³ ì„œ (ì—…ë°ì´íŠ¸)

  ğŸ“Š ê²€í†  ê²°ê³¼ ìš”ì•½

  3ê°€ì§€ ê´€ì ì—ì„œ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœë¥¼ ë¶„ì„í•œ ê²°ê³¼, ì•½ 75%ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©°, ëª‡
  ê°€ì§€ ì¤‘ìš”í•œ ë¶ˆì¼ì¹˜ì™€ ë¯¸ì—°ê²° ìš”ì†Œë“¤ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.

  ---
  1ï¸âƒ£ Supabase â†’ í”„ë¡œì íŠ¸ ìŠ¤í‚¤ë§ˆ ë§¤í•‘ ë¶„ì„

  âœ… ì˜ ì—°ê²°ëœ í…Œì´ë¸” (13/18)

  - users â†’ User íƒ€ì… + supabase-user-service.ts
  - user_addresses â†’ supabase-address-service.ts
  - user_profiles â†’ supabase-profile-service.ts
  - hot_deals â†’ HotDeal íƒ€ì… + supabase-hotdeal-service.ts
  - hotdeal_translations â†’ Translation íƒ€ì… + supabase-translation-service.ts
  - hot_deal_comments â†’ supabase-comment-service.ts
  - user_favorite_hotdeals â†’ supabase-favorite-service.ts
  - hot_deal_likes â†’ supabase-like-service.ts
  - payments â†’ Payment íƒ€ì… + supabase-payment-service.ts
  - proxy_purchases_request â†’ BuyForMeRequest íƒ€ì…
  - system_settings â†’ supabase-system-settings-service.ts
  - admin_activity_logs â†’ supabase-admin-log-service.ts
  - notifications â†’ supabase-notification-service.ts

  âŒ ë¯¸ì—°ê²° Supabase í…Œì´ë¸” (5/18)

  1. proxy_purchase_addresses - BuyForMeì˜ ë°°ì†¡ ì£¼ì†Œ ë¶„ë¦¬ í…Œì´ë¸”
  2. proxy_purchase_quotes - BuyForMeì˜ ê²¬ì  ê´€ë¦¬ í…Œì´ë¸”
  3. order_status_history - ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ ì´ë ¥
  4. comment_likes - ëŒ“ê¸€ ì¢‹ì•„ìš” ê¸°ëŠ¥
  5. crawling_logs - í¬ë¡¤ë§ ë¡œê·¸ ê´€ë¦¬

  ---
  2ï¸âƒ£ í”„ë¡œì íŠ¸ ìŠ¤í‚¤ë§ˆ â†’ Supabase ë§¤í•‘ ë¶„ì„

  âš ï¸ êµ¬ì¡° ë¶ˆì¼ì¹˜ ë¬¸ì œ

  1. Order íƒ€ì… ë¶ˆì¼ì¹˜
    - í”„ë¡œì íŠ¸: Order, OrderItem[], ShippingAddress êµ¬ì¡°
    - Supabase: proxy_purchases_requestë¡œ ë‹¨ìˆœí™”
    - ë¬¸ì œì : OrderItem ë°°ì—´ì´ JSONBë¡œ ì €ì¥ë˜ì–´ ì •ê·œí™” ìœ„ë°˜
  2. Payment íƒ€ì… ë¶ˆì¼ì¹˜
    - í”„ë¡œì íŠ¸: ë³µì¡í•œ PaymentRequest, PaymentMethod êµ¬ì¡°
    - Supabase: ë‹¨ìˆœí™”ëœ payments í…Œì´ë¸”
    - ë¬¸ì œì : ê²°ì œ í”„ë¡œì„¸ìŠ¤ ì„¸ë¶€ ì •ë³´ ëˆ„ë½

  âŒ Supabaseì— ì—†ëŠ” í”„ë¡œì íŠ¸ ê¸°ëŠ¥

  - Posts (ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ) - LocalStorageì—ë§Œ ì¡´ì¬
  - ì¼ë°˜ Orders - proxy_purchasesì™€ ë‹¤ë¥¸ ìš©ë„

  ---
  3ï¸âƒ£ LocalStorage â†’ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ

  âœ… ì™„ì „ ë§ˆì´ê·¸ë ˆì´ì…˜ (100%)

  - ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ
  - ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬
  - í•«ë”œ ëª©ë¡ ë° ìƒì„¸
  - ë‹¤êµ­ì–´ ë²ˆì—­ ì‹œìŠ¤í…œ
  - ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥
  - ì‹œìŠ¤í…œ ì„¤ì •

  âš ï¸ ë¶€ë¶„ ë§ˆì´ê·¸ë ˆì´ì…˜ (50-80%)

  - BuyForMe (80%) - ì—°ê´€ í…Œì´ë¸” ë¯¸ì™„ì„±
  - Payment (60%) - ê¸°ë³¸ êµ¬ì¡°ë§Œ êµ¬í˜„
  - Comments (70%) - í•«ë”œ ëŒ“ê¸€ë§Œ êµ¬í˜„

  âŒ ë¯¸ë§ˆì´ê·¸ë ˆì´ì…˜ (0%)

  - Community Posts - ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ
  - General Orders - ì¼ë°˜ ì£¼ë¬¸ ì‹œìŠ¤í…œ

  ---
  ğŸ’¡ ì£¼ìš” ì˜ì‚¬ê²°ì • í•„ìš” ì‚¬í•­ (Master Plan ë¬¸ì„œ ê¸°ë°˜ ì—…ë°ì´íŠ¸)

  1. Community Posts: âŒ Phase 6 ì œê±°ë¨
    - ê²°ì •: Supabaseì— posts ê´€ë ¨ í…Œì´ë¸” ì—†ìŒ í™•ì¸
    - ì˜í–¥: í”„ë¡œì íŠ¸ ì‹œê°„ 15ì‹œê°„ ë‹¨ì¶•
    - ëŒ€ì•ˆ: ê´€ë¦¬ì í•«ë”œ CRUDë¡œ ëŒ€ì²´ (Phase 6ìœ¼ë¡œ ì¬êµ¬ì„±)
  2. Order System: âš ï¸ proxy_purchases í™•ì¥ ì‚¬ìš©
    - ê²°ì •: proxy_purchases_request í…Œì´ë¸”ì„ ì¼ë°˜ ì£¼ë¬¸ì—ë„ í™œìš©
    - ê·¼ê±°: ìƒˆ í…Œì´ë¸” ìƒì„± ë¶ˆê°€ (Supabase MCP ì½ê¸° ì „ìš©)
    - êµ¬í˜„: product_info JSONB í•„ë“œë¥¼ í™œìš©í•œ ìœ ì—°í•œ êµ¬ì¡°
  3. Payment Integration: âœ… ì™¸ë¶€ ê²°ì œ ì„œë¹„ìŠ¤ ì—°ë™ í™•ì •
    - ê²°ì •: Phase 7ì—ì„œ ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ í†µí•©
    - êµ¬í˜„: payments í…Œì´ë¸” + ì™¸ë¶€ ì„œë¹„ìŠ¤ webhook ì²˜ë¦¬
    - ì„œë¹„ìŠ¤: í† ìŠ¤í˜ì´ë¨¼ì¸ , ì¹´ì¹´ì˜¤í˜ì´ ë“± í•œêµ­ ê²°ì œ ì„œë¹„ìŠ¤

  ---
  ğŸ“‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ê³„íš (Master Plan ë°˜ì˜)

  ì¦‰ì‹œ ì‹œì‘ ì‘ì—… (7ì‹œê°„)

  // 1. database.types.ts ìƒì„± (1ì‹œê°„)
  pnpm gen:types

  // 2. buy-for-me-modal Supabase ì—°ë™ (2ì‹œê°„)
  - LocalStorage â†’ SupabaseOrderService ì „í™˜
  - proxy_purchases_request í…Œì´ë¸” ì§ì ‘ ì—°ë™

  // 3. comment_likes ì—°ë™ (2ì‹œê°„)
  - UIëŠ” ì´ë¯¸ êµ¬í˜„ë¨
  - LocalStorage â†’ Supabase comment_likes í…Œì´ë¸” ì „í™˜

  // 4. Phase 1 ì ‘ê·¼ì„± ê°œì„  (2ì‹œê°„)
  - ARIA ë ˆì´ë¸” ì¶”ê°€
  - ëª¨ë°”ì¼ ìµœì í™”

  Phase 5: Hot Deals ì‹œìŠ¤í…œ (30ì‹œê°„)

  - í¬ë¡¤ëŸ¬ ì‹œìŠ¤í…œ ì •ë¦¬ (supabase-crawler-service.ts í™œìš©)
  - ì¤‘ë³µ í¬ë¡¤ëŸ¬ ì œê±°
  - E2E í…ŒìŠ¤íŠ¸ êµ¬í˜„

  Phase 6: ê´€ë¦¬ì ê¸°ëŠ¥ (13ì‹œê°„) - Posts ëŒ€ì²´

  - ê´€ë¦¬ì í•«ë”œ CRUD êµ¬í˜„
  - hotdeal_translations í…Œì´ë¸” í™œìš©
  - comment_likes í…Œì´ë¸” ì™„ì „ ì—°ë™

  Phase 7: Orders & Payments í†µí•© (20ì‹œê°„)

  - proxy_purchases_request í™•ì¥ í™œìš©
  - ì™¸ë¶€ ê²°ì œ ì„œë¹„ìŠ¤ ì—°ë™
  - order_status_history í™œìš©

  Phase 8: LocalStorage ì™„ì „ ì œê±° (10ì‹œê°„)

  - ëª¨ë“  LocalStorage ì°¸ì¡° ì œê±°
  - ìµœì¢… ê²€ì¦ ë° ì„±ëŠ¥ ìµœì í™”

  ---
  ğŸ¯ ê¶Œì¥ ìš°ì„ ìˆœìœ„

  1. ì¦‰ì‹œ í•´ê²° í•„ìš” (Critical) - 7ì‹œê°„
    - database.types.ts ìƒì„±
    - buy-for-me-modal Supabase ì—°ë™
    - comment_likes ì—°ë™
  2. ë‹¨ê¸° í•´ê²° (High) - 30ì‹œê°„
    - Hot Deals ì‹œìŠ¤í…œ ì™„ì„±
    - í¬ë¡¤ëŸ¬ ì‹œìŠ¤í…œ ì •ë¦¬
  3. ì¤‘ê¸° ê²€í†  (Medium) - 33ì‹œê°„
    - ê´€ë¦¬ì ê¸°ëŠ¥ êµ¬í˜„
    - Order/Payment í†µí•©
  4. ì¥ê¸° ê³„íš (Low) - 10ì‹œê°„
    - LocalStorage ì™„ì „ ì œê±°
    - ì„±ëŠ¥ ìµœì í™”

  ---
  ğŸ“Š ìµœì¢… ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆìƒ ê²°ê³¼

  - Supabase í…Œì´ë¸” í™œìš©ë¥ : 18/18 = 100%
  - í”„ë¡œì íŠ¸ ìŠ¤í‚¤ë§ˆ ë§¤í•‘ë¥ : 11/11 = 100% (Post ì œê±°)
  - LocalStorage ëŒ€ì²´ìœ¨: 18/18 = 100%
  - ì´ ì†Œìš” ì‹œê°„: 7 + 30 + 13 + 20 + 10 = 80ì‹œê°„ (10ì¼)
