haku

Supabase admin client not initialized

lib/services/supabase-order-service.ts (71:15) @ SupabaseOrderService.getOrdersByUser


  69 |     const supabase = supabaseAdmin()
  70 |     if (!supabase) {
> 71 |       console.error('Supabase admin client not initialized')
     |               ^
  72 |       return []
  73 |     }
  74 |     지금 이런 에러가 나고있어 내가 볼땐 clerk 에서 데이터를 들고오고 role 이 admin 인지 확인하는 과정에서의 문제 같은데 어떤 문제인지 살펴주고, const isAdmin = user?.publicMetadata?.role === 'admin' 과 같은 검증 과정이 있는지 확인해줘 만약 없다면 이게 없어서 문제인건지도 검토해주고 수정사항까지 context7 mcp로 정확하게 파악해줘
