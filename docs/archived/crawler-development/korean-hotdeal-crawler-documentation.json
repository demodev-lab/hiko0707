{
  "title": "í•œêµ­ í•«ë”œ í¬ë¡¤ëŸ¬ (Korean Hotdeal Crawler) ì™„ì „ ê°€ì´ë“œ",
  "version": "1.0.0",
  "lastUpdated": "2025-07-12",
  "overview": {
    "description": "í•œêµ­ì˜ ëŒ€í‘œ í•«ë”œ ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸(ë½ë¿Œ)ì—ì„œ ì‹¤ì‹œê°„ í•«ë”œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” Node.js ê¸°ë°˜ í¬ë¡¤ëŸ¬ì…ë‹ˆë‹¤. Playwrightë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì  ì›¹í˜ì´ì§€ë¥¼ ìŠ¤í¬ë˜í•‘í•˜ê³ , êµ¬ì¡°í™”ëœ JSON í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.",
    "mainFeatures": [
      "ë½ë¿Œ ì‚¬ì´íŠ¸ ì‹¤ì‹œê°„ í•«ë”œ í¬ë¡¤ë§",
      "ê²Œì‹œê¸€ ì œëª©ì—ì„œ ê°€ê²©, ì‡¼í•‘ëª°, ì¹´í…Œê³ ë¦¬ ìë™ ì¶”ì¶œ",
      "ê²Œì‹œê¸€ ë³¸ë¬¸ í…ìŠ¤íŠ¸ ë° ì´ë¯¸ì§€ ìˆ˜ì§‘",
      "ì¤‘ë³µ ê²Œì‹œê¸€ í•„í„°ë§",
      "í†µê³„ ë°ì´í„° ìë™ ìƒì„±",
      "CLI ëª…ë ¹ì–´ ì§€ì›"
    ],
    "techStack": {
      "runtime": "Node.js (ES6 ëª¨ë“ˆ)",
      "webScraping": "Playwright (Chromium)",
      "cli": "Commander.js",
      "styling": "Chalk (í„°ë¯¸ë„ ìƒ‰ìƒ)",
      "loading": "Ora (ë¡œë”© ìŠ¤í”¼ë„ˆ)"
    }
  },
  "architecture": {
    "classStructure": {
      "KoreanHotdealCrawler": {
        "description": "ë©”ì¸ í¬ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¡œ ëª¨ë“  í¬ë¡¤ë§ ë¡œì§ì„ í¬í•¨",
        "properties": {
          "options": "í¬ë¡¤ëŸ¬ ì„¤ì • ì˜µì…˜ (headless, maxPages, delay ë“±)",
          "results": "ìˆ˜ì§‘ëœ í•«ë”œ ë°ì´í„° ë°°ì—´",
          "browser": "Playwright ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤",
          "page": "í˜„ì¬ í™œì„± í˜ì´ì§€ ê°ì²´"
        },
        "methods": {
          "init()": "ë¸Œë¼ìš°ì € ì´ˆê¸°í™” ë° ì„¤ì •",
          "crawlPpomppu()": "ë½ë¿Œ ì‚¬ì´íŠ¸ í¬ë¡¤ë§ ë©”ì¸ ë¡œì§",
          "parseHotdeal()": "ê²Œì‹œê¸€ ë°ì´í„°ë¥¼ í•«ë”œ ê°ì²´ë¡œ ë³€í™˜",
          "parseTitle()": "ì œëª©ì—ì„œ ê°€ê²©, ì‡¼í•‘ëª° ë“± ì •ë³´ ì¶”ì¶œ",
          "inferCategory()": "ì œëª© ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜",
          "parseDate()": "ë‚ ì§œ ë¬¸ìì—´ì„ Date ê°ì²´ë¡œ ë³€í™˜",
          "getPostDetail()": "ê²Œì‹œê¸€ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë³¸ë¬¸ ë° ì´ë¯¸ì§€ ì¶”ì¶œ",
          "exportToJson()": "ìˆ˜ì§‘ ë°ì´í„°ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥",
          "generateStatistics()": "í†µê³„ ë°ì´í„° ìƒì„±"
        }
      }
    },
    "dataFlow": [
      "1. CLI ëª…ë ¹ì–´ íŒŒì‹± ë° ì˜µì…˜ ì„¤ì •",
      "2. Playwright ë¸Œë¼ìš°ì € ì´ˆê¸°í™”",
      "3. ë½ë¿Œ ê²Œì‹œíŒ í˜ì´ì§€ë³„ ìˆœíšŒ",
      "4. ê²Œì‹œê¸€ ëª©ë¡ ì¶”ì¶œ (DOM íŒŒì‹±)",
      "5. ê° ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘",
      "6. ë°ì´í„° ì •ê·œí™” ë° êµ¬ì¡°í™”",
      "7. JSON íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°",
      "8. í†µê³„ ì •ë³´ ìƒì„± ë° ì¶œë ¥"
    ]
  },
  "crawlingLogic": {
    "siteSpecific": {
      "ppomppu": {
        "baseUrl": "https://www.ppomppu.co.kr/zboard/zboard.php?id=ppomppu",
        "selectors": {
          "postRow": "#revolution_main_table > tbody > tr.baseList",
          "postNumber": "td.baseList-space.baseList-numb",
          "titleLink": "a[href*='no=']",
          "category": "td.baseList-space.title > div > small",
          "hotTag": "td.baseList-space.title > div > div > img",
          "contentArea": "body > div.wrapper > div.contents > div.container > div > table:nth-child(14) > tbody > tr:nth-child(1) > td > table > tbody > tr > td"
        },
        "parsing": {
          "postIdentification": "ê²Œì‹œë¬¼ ë²ˆí˜¸ê°€ ìˆëŠ” í–‰ë§Œ ì„ íƒí•˜ì—¬ ì •í™•í•œ ê²Œì‹œê¸€ ì‹ë³„",
          "titleExtraction": "ì—¬ëŸ¬ ë§í¬ ì¤‘ ì‹¤ì œ ì œëª© ë§í¬ ì°¾ê¸° (ê¸¸ì´ > 5, ppomppu í…ìŠ¤íŠ¸ ì œì™¸)",
          "categoryExtraction": "small íƒœê·¸ ë˜ëŠ” ì œëª©ì˜ [ì¹´í…Œê³ ë¦¬] íŒ¨í„´ì—ì„œ ì¶”ì¶œ",
          "statsExtraction": "ì¡°íšŒìˆ˜ì™€ ì¶”ì²œìˆ˜ë¥¼ ' - 'ë¡œ ë¶„ë¦¬í•˜ì—¬ íŒŒì‹±",
          "thumbnailExtraction": "_thumb í¬í•¨ ì´ë¯¸ì§€ URL ì°¾ê¸°"
        }
      }
    },
    "titleParsingLogic": {
      "pattern": "[ì‡¼í•‘ëª°ëª…] ì œí’ˆëª… (ê°€ê²©/ë°°ì†¡ì •ë³´) [ì¹´í…Œê³ ë¦¬]",
      "extraction": {
        "store": "ì œëª© ì‹œì‘ì˜ [ëŒ€ê´„í˜¸] ë‚´ìš© ì¶”ì¶œ",
        "price": "(ê´„í˜¸) ë‚´ ìˆ«ì,ìˆ«ìì› íŒ¨í„´ ë§¤ì¹­",
        "freeShipping": "(ê´„í˜¸) ë‚´ 'ë¬´ë£Œ' ë˜ëŠ” 'free' í‚¤ì›Œë“œ ê²€ìƒ‰",
        "category": "í‚¤ì›Œë“œ ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ì¶”ë¡  ì‹œìŠ¤í…œ"
      }
    },
    "detailPageLogic": {
      "contentExtraction": {
        "method": "ì¬ê·€ì  í…ìŠ¤íŠ¸ ë…¸ë“œ ìˆœíšŒ",
        "allowedTags": ["p", "div", "span", "strong", "b", "em", "i", "br"],
        "excludedElements": "a, img, script, style íƒœê·¸ ì œì™¸",
        "textCleaning": "ì—°ì† ê³µë°± ì œê±°, ì¤„ë°”ê¿ˆ ì •ë¦¬, ìµœì†Œ ê¸¸ì´ ê²€ì¦"
      },
      "imageExtraction": {
        "selectors": [".han_contents img", ".view_contents img", ".contents img"],
        "filters": {
          "excludePatterns": ["icon", "emoticon", "menu", "logo", "share", "smilie"],
          "minSize": "width > 100 && height > 100",
          "formats": [".jpg", ".jpeg", ".png", ".webp"]
        }
      }
    },
    "duplicateHandling": {
      "method": "ê²Œì‹œê¸€ ID ê¸°ë°˜ ê³ ìœ ì„± ë³´ì¥",
      "idFormat": "hotdeal_{timestamp}_{postId}"
    }
  },
  "dataStructure": {
    "hotdealObject": {
      "id": "ê³ ìœ  ì‹ë³„ì (hotdeal_{timestamp}_{postId})",
      "title": "ê²Œì‹œê¸€ ì œëª©",
      "content": "ê²Œì‹œê¸€ ë³¸ë¬¸ í…ìŠ¤íŠ¸ (ìƒì„¸ í˜ì´ì§€ì—ì„œ ì¶”ì¶œ)",
      "price": "ì¶”ì¶œëœ ê°€ê²© ì •ë³´ (ì˜ˆ: '20,060ì›')",
      "originalPrice": "ì›ê°€ (í˜„ì¬ null)",
      "discount": "í• ì¸ìœ¨ (í˜„ì¬ null)",
      "storeName": "ì‡¼í•‘ëª°ëª… (ì˜ˆ: '11ë²ˆê°€', 'ì§€ë§ˆì¼“')",
      "category": "ì¹´í…Œê³ ë¦¬ (ì˜ˆ: '[ì˜ë¥˜/ì¡í™”]', '[ì‹í’ˆ/ê±´ê°•]')",
      "thumbnailImage": "ì¸ë„¤ì¼ ì´ë¯¸ì§€ URL",
      "originalImage": "ì›ë³¸ ì´ë¯¸ì§€ URL (ìƒì„¸ í˜ì´ì§€ì—ì„œ ì¶”ì¶œ)",
      "author": "ì‘ì„±ì ë‹‰ë„¤ì„",
      "postDate": "ê²Œì‹œ ë‚ ì§œ (ISO 8601 í˜•ì‹)",
      "views": "ì¡°íšŒìˆ˜",
      "recommendCount": "ì¶”ì²œìˆ˜",
      "commentCount": "ëŒ“ê¸€ìˆ˜ (í˜„ì¬ 0 ê³ ì •)",
      "url": "ê²Œì‹œê¸€ URL",
      "isEnded": "ì¢…ë£Œ ì—¬ë¶€ (í˜„ì¬ false ê³ ì •)",
      "isFreeShipping": "ë¬´ë£Œë°°ì†¡ ì—¬ë¶€",
      "isPopular": "ì¸ê¸° ê²Œì‹œê¸€ ì—¬ë¶€ (HOT íƒœê·¸)",
      "source": "ì¶œì²˜ ì‚¬ì´íŠ¸ ('ppomppu')",
      "sourcePostId": "ì›ë³¸ ê²Œì‹œê¸€ ID",
      "crawledPage": "í¬ë¡¤ë§ëœ í˜ì´ì§€ ë²ˆí˜¸",
      "createdAt": "í¬ë¡¤ë§ ì‹œê°",
      "updatedAt": "ì—…ë°ì´íŠ¸ ì‹œê°"
    },
    "exportedJson": {
      "metadata": {
        "exportDate": "ë‚´ë³´ë‚´ê¸° ì‹œê°",
        "totalDeals": "ì´ í•«ë”œ ìˆ˜",
        "source": "í¬ë¡¤ë§ ì†ŒìŠ¤",
        "version": "í¬ë¡¤ëŸ¬ ë²„ì „",
        "exportedBy": "í¬ë¡¤ëŸ¬ ì‹ë³„ì",
        "crawledPages": "í¬ë¡¤ë§í•œ í˜ì´ì§€ ìˆ˜"
      },
      "hotdeals": "í•«ë”œ ê°ì²´ ë°°ì—´",
      "statistics": {
        "totalDeals": "ì´ ë”œ ìˆ˜",
        "activeDeals": "í™œì„± ë”œ ìˆ˜",
        "endedDeals": "ì¢…ë£Œëœ ë”œ ìˆ˜",
        "categoryCounts": "ì¹´í…Œê³ ë¦¬ë³„ ë”œ ìˆ˜",
        "storeCounts": "ì‡¼í•‘ëª°ë³„ ë”œ ìˆ˜",
        "freeShippingCount": "ë¬´ë£Œë°°ì†¡ ë”œ ìˆ˜"
      }
    }
  },
  "usage": {
    "installation": {
      "requirements": [
        "Node.js 14+ (ES6 ëª¨ë“ˆ ì§€ì›)",
        "npm ë˜ëŠ” yarn"
      ],
      "dependencies": {
        "playwright": "ì›¹ ë¸Œë¼ìš°ì € ìë™í™”",
        "commander": "CLI ì¸í„°í˜ì´ìŠ¤",
        "chalk": "í„°ë¯¸ë„ ìƒ‰ìƒ ì¶œë ¥",
        "ora": "ë¡œë”© ìŠ¤í”¼ë„ˆ"
      },
      "setup": [
        "npm install playwright commander chalk ora",
        "npx playwright install chromium"
      ]
    },
    "cli": {
      "basicCommand": "node crawler.js",
      "options": {
        "-s, --source <source>": {
          "description": "í¬ë¡¤ë§í•  ì‚¬ì´íŠ¸ ì„ íƒ",
          "values": ["ppomppu", "ruliweb", "coolenjoy", "slrclub", "all"],
          "default": "ppomppu"
        },
        "-p, --pages <number>": {
          "description": "í¬ë¡¤ë§í•  í˜ì´ì§€ ìˆ˜",
          "default": "2"
        },
        "-o, --output <directory>": {
          "description": "ì¶œë ¥ ë””ë ‰í† ë¦¬ ê²½ë¡œ",
          "default": "./exports"
        },
        "--headless <boolean>": {
          "description": "í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ ì‚¬ìš© ì—¬ë¶€",
          "default": "true"
        },
        "-d, --delay <ms>": {
          "description": "í˜ì´ì§€ ê°„ ë”œë ˆì´ (ë°€ë¦¬ì´ˆ)",
          "default": "2000"
        }
      },
      "examples": [
        {
          "command": "node crawler.js",
          "description": "ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë½ë¿Œ 2í˜ì´ì§€ í¬ë¡¤ë§"
        },
        {
          "command": "node crawler.js -p 5 -o ./data",
          "description": "5í˜ì´ì§€ í¬ë¡¤ë§, ./data ë””ë ‰í† ë¦¬ì— ì €ì¥"
        },
        {
          "command": "node crawler.js --headless false",
          "description": "ë¸Œë¼ìš°ì € UIë¥¼ ë³´ë©´ì„œ í¬ë¡¤ë§"
        }
      ]
    }
  },
  "outputExample": {
    "consoleOutput": [
      "ğŸš€ ì„¤ì •:",
      "- ì‚¬ì´íŠ¸: ppomppu",
      "- í˜ì´ì§€: 3",
      "- ì¶œë ¥: ./exports",
      "- í—¤ë“œë¦¬ìŠ¤: true",
      "",
      "ğŸ•·ï¸  í•œêµ­ í•«ë”œ í¬ë¡¤ëŸ¬ ì‹œì‘...",
      "âœ” ë½ë¿Œ í¬ë¡¤ë§ ì™„ë£Œ: 61ê°œ ë”œ ìˆ˜ì§‘",
      "",
      "ğŸ” ë””ë²„ê·¸ ì •ë³´ (í˜ì´ì§€ 1):",
      "  - ì´ í–‰ ìˆ˜: 157",
      "  - ë²ˆí˜¸ ìˆëŠ” í–‰: 30",
      "  - ì¶”ì¶œëœ ê²Œì‹œê¸€: 30",
      "  - ìµœì¢… ê²Œì‹œê¸€: 30",
      "",
      "ğŸ“ ì²« ë²ˆì§¸ ê²Œì‹œê¸€ ìƒ˜í”Œ:",
      "  - ê²Œì‹œë¬¼ ë²ˆí˜¸: 635626",
      "  - ì œëª©: [11ë²ˆê°€]ë¸”ë™ì•¼í¬í‚¤ì¦ˆ ëƒ‰ê°ì†Œì¬ ë°˜íŒ”ìƒí•˜ì„¸íŠ¸ (í‹°ë©¤ 20,060ì›/ë¬´ë£Œ)",
      "  - URL: https://www.ppomppu.co.kr/zboard/view.php?id=ppomppu&page=1&divpage=102&no=635626",
      "  - ì‘ì„±ì: Trafat",
      "  - ì¹´í…Œê³ ë¦¬: [ì˜ë¥˜/ì¡í™”]",
      "  - ì¸ê¸°ê¸€: true",
      "  - ì¸ë„¤ì¼: https://cdn.ppomppu.co.kr/zboard/data/_thumb/ppomppu/6/small_635626.jpg",
      "",
      "âœ… í¬ë¡¤ë§ ì™„ë£Œ!",
      "ğŸ“ íŒŒì¼: ./exports/hotdeal-ppomppu-2025-07-12T07-07-55.json",
      "ğŸ“Š ìˆ˜ì§‘ëœ ë”œ: 61ê°œ",
      "ğŸ’¾ íŒŒì¼ í¬ê¸°: 132KB",
      "",
      "ğŸ“ˆ í†µê³„:",
      "- ë¬´ë£Œë°°ì†¡: 52ê°œ",
      "- ì¹´í…Œê³ ë¦¬: 7ê°œ",
      "- ì‡¼í•‘ëª°: 23ê°œ",
      "- ì´ë¯¸ì§€ ìˆìŒ: 61ê°œ",
      "- ë³¸ë¬¸ í…ìŠ¤íŠ¸ ìˆìŒ: 10ê°œ",
      "- ì¸ê¸° ê²Œì‹œê¸€: 8ê°œ"
    ],
    "jsonStructure": "ìœ„ì˜ dataStructure.exportedJson ì°¸ì¡°"
  },
  "technicalDetails": {
    "performanceOptimization": {
      "pageLoadStrategy": "domcontentloaded ëŒ€ì‹  load ì‚¬ìš©ìœ¼ë¡œ ì•ˆì •ì„± í–¥ìƒ",
      "detailPageLimit": "ì²« 10ê°œ ê²Œì‹œê¸€ë§Œ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”",
      "delayStrategy": "í˜ì´ì§€ ê°„ 2ì´ˆ ë”œë ˆì´ë¡œ ì„œë²„ ë¶€í•˜ ë°©ì§€"
    },
    "errorHandling": {
      "navigationRetry": "í˜ì´ì§€ ë¡œë”© ì‹¤íŒ¨ ì‹œ 5ì´ˆ í›„ ì¬ì‹œë„",
      "gracefulDegradation": "ê°œë³„ ê²Œì‹œê¸€ íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë‹¤ìŒ ê²Œì‹œê¸€ë¡œ ì§„í–‰",
      "detailPageFallback": "ìƒì„¸ í˜ì´ì§€ ì ‘ê·¼ ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ì •ë³´ë§Œ ì €ì¥"
    },
    "browserSettings": {
      "viewport": "1920x1080",
      "userAgent": "Chrome 120 Windows 10",
      "args": [
        "--no-sandbox",
        "--disable-setuid-sandbox",
        "--disable-blink-features=AutomationControlled",
        "--disable-features=VizDisplayCompositor"
      ]
    }
  },
  "extensibility": {
    "addingNewSites": {
      "steps": [
        "1. ìƒˆ í¬ë¡¤ë§ ë©”ì„œë“œ ì¶”ê°€ (ì˜ˆ: crawlRuliweb())",
        "2. ì‚¬ì´íŠ¸ë³„ ì…€ë ‰í„° ì •ì˜",
        "3. íŒŒì‹± ë¡œì§ êµ¬í˜„",
        "4. run() ë©”ì„œë“œì— ì¡°ê±´ë¶€ ì‹¤í–‰ ì¶”ê°€"
      ],
      "considerations": [
        "ê° ì‚¬ì´íŠ¸ì˜ DOM êµ¬ì¡° ë¶„ì„ í•„ìš”",
        "robots.txt ë° ì´ìš©ì•½ê´€ í™•ì¸",
        "ì ì ˆí•œ ë”œë ˆì´ ì„¤ì •ìœ¼ë¡œ ì„œë²„ ë¶€í•˜ ë°©ì§€"
      ]
    },
    "dataEnhancement": {
      "possibleAdditions": [
        "ê°€ê²© íˆìŠ¤í† ë¦¬ ì¶”ì ",
        "ì‹¤ì‹œê°„ ì¬ê³  í™•ì¸",
        "ì•Œë¦¼ ì‹œìŠ¤í…œ ì—°ë™",
        "ì¤‘ë³µ ì œê±° ì•Œê³ ë¦¬ì¦˜ ê°œì„ ",
        "ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ë¡œì»¬ ì €ì¥"
      ]
    }
  },
  "bestPractices": {
    "ethical": [
      "robots.txt ì¤€ìˆ˜",
      "ì ì ˆí•œ í¬ë¡¤ë§ ì†ë„ ìœ ì§€",
      "ì„œë²„ì— ë¶€ë‹´ ì£¼ì§€ ì•ŠëŠ” ì‹œê°„ëŒ€ ì„ íƒ",
      "ê°œì¸ì •ë³´ ìˆ˜ì§‘ ê¸ˆì§€"
    ],
    "technical": [
      "ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”",
      "ë¡œê·¸ ì‹œìŠ¤í…œ êµ¬ì¶•",
      "ë°ì´í„° ê²€ì¦ ë¡œì§ ì¶”ê°€",
      "ì •ê¸°ì ì¸ ì…€ë ‰í„° ì—…ë°ì´íŠ¸"
    ]
  },
  "troubleshooting": {
    "commonIssues": {
      "emptyResults": {
        "cause": "ì…€ë ‰í„° ë³€ê²½ ë˜ëŠ” ì‚¬ì´íŠ¸ êµ¬ì¡° ë³€ê²½",
        "solution": "ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ë¡œ í˜„ì¬ DOM êµ¬ì¡° í™•ì¸ í›„ ì…€ë ‰í„° ì—…ë°ì´íŠ¸"
      },
      "timeoutErrors": {
        "cause": "ëŠë¦° ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ì„œë²„ ì‘ë‹µ",
        "solution": "íƒ€ì„ì•„ì›ƒ ê°’ ì¦ê°€, waitUntil ì˜µì…˜ ì¡°ì •"
      },
      "parsingErrors": {
        "cause": "ì˜ˆìƒì¹˜ ëª»í•œ ë°ì´í„° í˜•ì‹",
        "solution": "try-catch ë¸”ë¡ ì¶”ê°€, ê¸°ë³¸ê°’ ì„¤ì •"
      }
    }
  }
}